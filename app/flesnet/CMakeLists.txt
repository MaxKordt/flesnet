# Copyright 2013, 2016 Jan de Cuveland <cmail@cuveland.de>

file(GLOB SOURCES *.cpp)
file(GLOB HEADERS *.hpp)

add_executable(flesnet ${SOURCES} ${HEADERS})

target_compile_definitions(flesnet PUBLIC BOOST_ALL_DYN_LINK)

target_include_directories(flesnet SYSTEM PUBLIC ${Boost_INCLUDE_DIRS})

target_link_libraries(flesnet
  flib_ipc fles_core fles_ipc fles_rdma fles_zeromq logging
  ${Boost_LIBRARIES} ${CMAKE_THREAD_LIBS_INIT}
)

if(CMAKE_SYSTEM_NAME STREQUAL "Linux")
  target_link_libraries(flesnet rt atomic)
endif()
